<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        .test-box {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background: #0066cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background: #0052a3;
        }
        .log {
            background: #f0f0f0;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
            max-height: 300px;
            overflow-y: auto;
        }
        .log-entry {
            padding: 5px;
            border-bottom: 1px solid #ddd;
        }
        .log-entry.success {
            color: green;
        }
        .log-entry.error {
            color: red;
        }
        .log-entry.warning {
            color: orange;
        }
    </style>
</head>
<body>
    <h1>ğŸ” Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬</h1>

    <div class="test-box">
        <h2>Ø§Ø®ØªØ¨Ø§Ø± 1: Ø²Ø± Ø¹Ø§Ø¯ÙŠ</h2>
        <button id="normal-btn">Ø§Ø¶ØºØ· Ù‡Ù†Ø§</button>
        <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø¶ØºØ·Ø§Øª: <strong id="normal-count">0</strong></p>
    </div>

    <div class="test-box">
        <h2>Ø§Ø®ØªØ¨Ø§Ø± 2: Ø²Ø± Ù…Ø¹ Ù…Ù†Ø¹ Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬</h2>
        <button id="protected-btn">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ (Ù…Ø­Ù…ÙŠ)</button>
        <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø¶ØºØ·Ø§Øª: <strong id="protected-count">0</strong></p>
    </div>

    <div class="test-box">
        <h2>Ø§Ø®ØªØ¨Ø§Ø± 3: Ù†Ù…ÙˆØ°Ø¬ Form</h2>
        <form id="test-form">
            <input type="text" placeholder="Ø§ÙƒØªØ¨ Ø´ÙŠØ¡..." required>
            <button type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
        </form>
        <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„Ø§Øª: <strong id="form-count">0</strong></p>
    </div>

    <div class="test-box">
        <h2>Ø³Ø¬Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«</h2>
        <div class="log" id="event-log"></div>
        <button onclick="clearLog()">Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„</button>
    </div>

    <script>
        let normalCount = 0;
        let protectedCount = 0;
        let formCount = 0;
        let isProcessing = false;

        function logEvent(message, type = 'success') {
            const log = document.getElementById('event-log');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            const time = new Date().toLocaleTimeString('ar-SA');
            entry.textContent = `[${time}] ${message}`;
            log.insertBefore(entry, log.firstChild);
        }

        function clearLog() {
            document.getElementById('event-log').innerHTML = '';
            logEvent('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„', 'warning');
        }

        // Ø§Ø®ØªØ¨Ø§Ø± 1: Ø²Ø± Ø¹Ø§Ø¯ÙŠ (Ø¨Ø¯ÙˆÙ† Ø­Ù…Ø§ÙŠØ©)
        document.getElementById('normal-btn').addEventListener('click', () => {
            normalCount++;
            document.getElementById('normal-count').textContent = normalCount;
            logEvent(`Ø²Ø± Ø¹Ø§Ø¯ÙŠ: Ø¶ØºØ·Ø© Ø±Ù‚Ù… ${normalCount}`, 'success');
        });

        // Ø§Ø®ØªØ¨Ø§Ø± 2: Ø²Ø± Ù…Ø­Ù…ÙŠ
        document.getElementById('protected-btn').addEventListener('click', async () => {
            if (isProcessing) {
                logEvent('âš ï¸ Ù…Ø­Ø§ÙˆÙ„Ø© ØªÙ†ÙÙŠØ° Ù…Ø²Ø¯ÙˆØ¬! ØªÙ… Ø§Ù„Ù…Ù†Ø¹', 'error');
                return;
            }

            isProcessing = true;
            protectedCount++;
            document.getElementById('protected-count').textContent = protectedCount;
            logEvent(`âœ… Ø²Ø± Ù…Ø­Ù…ÙŠ: Ø¶ØºØ·Ø© Ø±Ù‚Ù… ${protectedCount}`, 'success');

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¹Ù…Ù„ÙŠØ© ØªØ³ØªØºØ±Ù‚ ÙˆÙ‚Øª
            await new Promise(resolve => setTimeout(resolve, 500));
            
            isProcessing = false;
            logEvent('âœ”ï¸ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©ØŒ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¶ØºØ· Ù…Ø±Ø© Ø£Ø®Ø±Ù‰', 'success');
        });

        // Ø§Ø®ØªØ¨Ø§Ø± 3: Ù†Ù…ÙˆØ°Ø¬
        let formProcessing = false;
        document.getElementById('test-form').addEventListener('submit', async (e) => {
            e.preventDefault();

            if (formProcessing) {
                logEvent('âš ï¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©! ØªÙ… Ø§Ù„Ù…Ù†Ø¹', 'error');
                return;
            }

            formProcessing = true;
            formCount++;
            document.getElementById('form-count').textContent = formCount;
            logEvent(`ğŸ“ Ù†Ù…ÙˆØ°Ø¬: Ø¥Ø±Ø³Ø§Ù„ Ø±Ù‚Ù… ${formCount}`, 'success');

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¹Ù…Ù„ÙŠØ©
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            formProcessing = false;
            logEvent('âœ”ï¸ ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬', 'success');
            e.target.reset();
        });

        // Ø³Ø¬Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        logEvent('ğŸš€ Ø¨Ø¯Ø£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬', 'warning');
    </script>
</body>
</html>
